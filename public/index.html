<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="app.css">
    <title>Gunzzle</title>
    <script src="app.js" defer type="module"></script>
</head>

<body>
    <h1>Gunzzle</h1>
    <main>
        <section class="top">
            <div>
                <div class="tool-bar">
                    <label class="grow" for="gen-mode">Solver mode</label>
                    <select id="gen-mode" name="mode">
                        <option value="brt">Brute force</option>
                        <option value="gen" selected>Genetic</option>
                    </select>
                </div>

                <form class="gen-form" onsubmit="return false;">
                    <label for="form-rows">Rows</label>
                    <input id="form-rows" type="number" name="row_count" value="3" min="1" max="100" />
                    <label for="form-cols">Cols</label>
                    <input id="form-cols" type="number" name="col_count" value="3" min="1" max="100" />
                    <label for="form-fr">Links</label>
                    <input id="form-fr" type="number" name="link_count" value="3" min="1" max="100" />
                    <hr>

                    <label for="form-cutoff">Cutoff</label>
                    <input id="form-cutoff" type="number" name="valid_count_cutoff" value="1000" min="1" />
                    <div class="help">Initial max number of valid solutions.</div>

                    <div class="brt-only checkbox-input" hidden>
                        <label for="form-heur">Target unique</label>
                        <input id="form-heur" type="checkbox" name="target_unique">
                    </div>
                    <div class="brt-only help" hidden>Get to unique solution puzzle faster. Will skip potential good non unique solutions.</div>

                    <div class="gen-only checkbox-input" hidden>
                        <label for="form-use-select">Start from selection</label>
                        <input id="form-use-select" type="checkbox" name="use_selection">
                    </div>
                    <div class="gen-only help" hidden>Restart generation from the selected puzzle.</div>
                </form>

                <div class="tool-bar">
                    <button id="btn-run" class="grow primary">Run</button>
                    <button id="btn-cancel" class="grey" disabled>Cancel</button>
                </div>
            </div>
            <div class="select-panel">
                <div class="tool-bar">
                    <div class="tool-bar grow">
                        <label for="select-preset">Preload</label>
                        <select id="select-preset">
                            <option selected>-</option>
                            <option data-import-path="samples/2x2 test.json">2x2 test</option>
                            <option data-import-path="samples/2x2(3) 1 x51.json">2x2(3) 1 x51</option>
                            <option data-import-path="samples/2x3(3) 1 x213.json">2x3(3) 1 x213</option>
                            <option data-import-path="samples/3x2(4) 1 x333.json">3x2(4) 1 x333</option>
                            <option data-import-path="samples/3x3(3) 1 x1807.json">3x3(3) 1 x1807</option>
                            <option data-import-path="samples/3x3(3) 1 x2789.json">3x3(3) 1 x2789</option>
                            <option data-import-path="samples/3x3(3) 1 x3552.json">3x3(3) 1 x3552</option>
                            <option data-import-path="samples/3x3(3) 1 x3553.json">3x3(3) 1 x3553</option>
                            <option data-import-path="samples/3x3(3) 1 x4037.json">3x3(3) 1 x4037</option>
                            <option data-import-path="samples/3x3(3) 1 x5354.json">3x3(3) 1 x5354</option>
                        </select>
                        <button id="btn-select-load">Load</button>
                    </div>
                    <div class="tool-bar">
                        <button id="btn-select-import">Import</button>
                        <button id="btn-select-export">Export</button>
                    </div>
                </div>
                <div class="tool-bar">
                    <label class="grow">Selection</label>
                    <div class="checkbox-input">
                        <label for="select-shuffle">Shuffle</label>
                        <input id="select-shuffle" type="checkbox">
                    </div>
                </div>
                <div id="select-output" class="svg-area"></div>
            </div>
        </section>

        <section>
            <div id="gen-info"></div>
            <div class="progress-bar">
                <div id="gen-progress-label"></div>
                <div id="gen-rem-time-label"></div>
                <progress id="gen-progress" max="100" value="0"></progress>
            </div>
            <div id="gen-output" class="svg-area"></div>
        </section>
    </main>
    <footer>
        <p>Code available <a href="https://github.com/VivienGaluchot/gunzzle">here</a></p>
    </footer>

</body>

</html